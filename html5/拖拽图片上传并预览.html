<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
#div1 {
	width: 200px;
	height: 200px;
	border:1px solid #000;
}
</style>
<script>
window.onload=function()
{
 var Div=document.getElementById('div1');  
 var Ul=document.getElementById('ul1');
 
	Div.ondragenter=function()
	{
	 this.innerHTML='可以释放鼠标';	//
	}
	Div.ondragover=function(ev)//
	{
	  ev.preventDefault();//阻止默认事件--可以调用drop
	}
	Div.ondragleave=function()
	{
	 this.innerHTML='将文件拖拽至此上传';	
	}
	Div.ondrop=function(ev)
	{
		
	  ev.preventDefault();//防止拖拽的图片直接被打开
	 var files=ev.dataTransfer.files;
	 
	// alert(files) //object fileList;文件集合
	//alert(files.length);//拖拽文件个数
	//alert(files[0].type);//拖拽文件类型
/*	
	if(files[0].type.indexOf('image')!=-1)
	{
		var fd=new FileReader(); // 创建读取文件对象
		fd.readAsDataURL(files[0]); //读取文件
		fd.onload=function()//读取文件成功时触发的事件
		{
		//	alert(this.result);	//获取读取文件的数据
			var Li=document.createElement('li');
			var Img=document.createElement('img');
			Img.src=this.result;
			Li.appendChild(Img);
			Ul.appendChild(Li);
		}
	}//上传图片类型
	else
	{  alert('请选择图片类型');}
	*/
 for(var i=0;i<files.length;i++)
 {
	if(files[i].type.indexOf('image')!=-1)
	{
		var fd=new FileReader(); // 创建读取文件对象
		fd.readAsDataURL(files[i]); //读取文件
		fd.onload=function()//读取文件成功时触发的事件
		{
		//	alert(this.result);	//获取读取文件的数据
			var Li=document.createElement('li');
			var Img=document.createElement('img');
			Img.src=this.result;
			Li.appendChild(Img);
			Ul.appendChild(Li);
		}
	}//上传图片类型
	else
	{  alert('请选择图片类型');} 
}//上传多张图片
	
	this.innerHTML='将文件拖拽至此上传';
	} 
	//--------------------------------------目标元素
}


  </script>
</head>

<body>
<div id="div1">将文件拖拽至此上传</div>
<ul id="ul1"></ul>
</body>
</html>
